#!/bin/sh

tarfile=$1
distrobase=$2
doc=$3

shift 3
tar=$*

echo "   --- Add ida module to $tarfile"

if [ $doc = "T" ]; then
#$tar $tarfile $distrobase/doc/ida/ida_guide.ps
$tar $tarfile $distrobase/doc/ida/ida_guide.pdf
#$tar $tarfile $distrobase/doc/ida/ida_examples.ps
$tar $tarfile $distrobase/doc/ida/ida_examples.pdf
fi

$tar $tarfile $distrobase/include/ida/ida.h
$tar $tarfile $distrobase/include/ida/ida_direct.h
$tar $tarfile $distrobase/include/ida/ida_dense.h
$tar $tarfile $distrobase/include/ida/ida_band.h
$tar $tarfile $distrobase/include/ida/ida_lapack.h
# $tar $tarfile $distrobase/include/ida/ida_petsc.h
$tar $tarfile $distrobase/include/ida/ida_spgmr.h
$tar $tarfile $distrobase/include/ida/ida_spbcgs.h
$tar $tarfile $distrobase/include/ida/ida_sptfqmr.h
$tar $tarfile $distrobase/include/ida/ida_spils.h
$tar $tarfile $distrobase/include/ida/ida_bbdpre.h
$tar $tarfile $distrobase/include/ida/ida_sparse.h
$tar $tarfile $distrobase/include/ida/ida_klu.h
$tar $tarfile $distrobase/include/ida/ida_superlumt.h

$tar $tarfile $distrobase/src/ida/LICENSE
$tar $tarfile $distrobase/src/ida/README
$tar $tarfile $distrobase/src/ida/CMakeLists.txt

$tar $tarfile $distrobase/src/ida/ida.c
$tar $tarfile $distrobase/src/ida/ida_io.c
$tar $tarfile $distrobase/src/ida/ida_ic.c
$tar $tarfile $distrobase/src/ida/ida_direct.c
$tar $tarfile $distrobase/src/ida/ida_dense.c
$tar $tarfile $distrobase/src/ida/ida_band.c
$tar $tarfile $distrobase/src/ida/ida_klu.c
$tar $tarfile $distrobase/src/ida/ida_lapack.c
# $tar $tarfile $distrobase/src/ida/ida_petsc_impl.h
# $tar $tarfile $distrobase/src/ida/ida_petsc.c
$tar $tarfile $distrobase/src/ida/ida_spils.c
$tar $tarfile $distrobase/src/ida/ida_spgmr.c
$tar $tarfile $distrobase/src/ida/ida_spbcgs.c
$tar $tarfile $distrobase/src/ida/ida_sptfqmr.c
$tar $tarfile $distrobase/src/ida/ida_superlumt.c
$tar $tarfile $distrobase/src/ida/ida_bbdpre.c
$tar $tarfile $distrobase/src/ida/ida_impl.h
$tar $tarfile $distrobase/src/ida/ida_direct_impl.h
$tar $tarfile $distrobase/src/ida/ida_spils_impl.h
$tar $tarfile $distrobase/src/ida/ida_bbdpre_impl.h
$tar $tarfile $distrobase/src/ida/ida_sparse.c
$tar $tarfile $distrobase/src/ida/ida_sparse_impl.h

echo "   --- Add fida module to $tarfile"

$tar $tarfile $distrobase/src/ida/fcmix/CMakeLists.txt

$tar $tarfile $distrobase/src/ida/fcmix/fida.c
$tar $tarfile $distrobase/src/ida/fcmix/fidaewt.c
$tar $tarfile $distrobase/src/ida/fcmix/fidadense.c
$tar $tarfile $distrobase/src/ida/fcmix/fidaband.c
$tar $tarfile $distrobase/src/ida/fcmix/fidalapack.c
$tar $tarfile $distrobase/src/ida/fcmix/fidalapband.c
$tar $tarfile $distrobase/src/ida/fcmix/fidalapdense.c
$tar $tarfile $distrobase/src/ida/fcmix/fidabbd.c
$tar $tarfile $distrobase/src/ida/fcmix/fidasparse.c
$tar $tarfile $distrobase/src/ida/fcmix/fidaklu.c
$tar $tarfile $distrobase/src/ida/fcmix/fidasuperlumt.c
$tar $tarfile $distrobase/src/ida/fcmix/fidajtimes.c
$tar $tarfile $distrobase/src/ida/fcmix/fidapreco.c
$tar $tarfile $distrobase/src/ida/fcmix/fidaroot.c
$tar $tarfile $distrobase/src/ida/fcmix/fida.h
$tar $tarfile $distrobase/src/ida/fcmix/fidabbd.h
$tar $tarfile $distrobase/src/ida/fcmix/fidaroot.h

echo "   --- Add ida examples to $tarfile"

$tar $tarfile $distrobase/examples/ida/serial/README
$tar $tarfile $distrobase/examples/ida/serial/CMakeLists.txt
$tar $tarfile $distrobase/examples/ida/serial/idaFoodWeb_bnd.c
$tar $tarfile $distrobase/examples/ida/serial/idaFoodWeb_bnd.out
$tar $tarfile $distrobase/examples/ida/serial/idaFoodWeb_kry.c
$tar $tarfile $distrobase/examples/ida/serial/idaFoodWeb_kry.out
$tar $tarfile $distrobase/examples/ida/serial/idaHeat2D_bnd.c
$tar $tarfile $distrobase/examples/ida/serial/idaHeat2D_bnd.out
$tar $tarfile $distrobase/examples/ida/serial/idaHeat2D_kry.c
$tar $tarfile $distrobase/examples/ida/serial/idaHeat2D_kry.out
$tar $tarfile $distrobase/examples/ida/serial/idaHeat2D_klu.c
$tar $tarfile $distrobase/examples/ida/serial/idaHeat2D_klu.out
$tar $tarfile $distrobase/examples/ida/serial/idaKrylovDemo_ls.c
$tar $tarfile $distrobase/examples/ida/serial/idaKrylovDemo_ls.out
$tar $tarfile $distrobase/examples/ida/serial/idaRoberts_dns.c
$tar $tarfile $distrobase/examples/ida/serial/idaRoberts_dns.out
$tar $tarfile $distrobase/examples/ida/serial/idaRoberts_klu.c
$tar $tarfile $distrobase/examples/ida/serial/idaRoberts_klu.out
$tar $tarfile $distrobase/examples/ida/serial/idaRoberts_sps.c
$tar $tarfile $distrobase/examples/ida/serial/idaRoberts_sps.out
$tar $tarfile $distrobase/examples/ida/serial/idaSlCrank_dns.c
$tar $tarfile $distrobase/examples/ida/serial/idaSlCrank_dns.out

$tar $tarfile $distrobase/examples/ida/fcmix_serial/README
$tar $tarfile $distrobase/examples/ida/fcmix_serial/CMakeLists.txt
$tar $tarfile $distrobase/examples/ida/fcmix_serial/fidaRoberts_dns.f
$tar $tarfile $distrobase/examples/ida/fcmix_serial/fidaRoberts_dns.out

$tar $tarfile $distrobase/examples/ida/C_openmp/README
$tar $tarfile $distrobase/examples/ida/C_openmp/CMakeLists.txt
$tar $tarfile $distrobase/examples/ida/C_openmp/idaFoodWeb_bnd_omp.c
$tar $tarfile $distrobase/examples/ida/C_openmp/idaFoodWeb_bnd_omp.out
$tar $tarfile $distrobase/examples/ida/C_openmp/idaFoodWeb_kry_omp.c
$tar $tarfile $distrobase/examples/ida/C_openmp/idaFoodWeb_kry_omp.out

$tar $tarfile $distrobase/examples/ida/petsc/README
$tar $tarfile $distrobase/examples/ida/petsc/CMakeLists.txt
# $tar $tarfile $distrobase/examples/ida/petsc/idaHeat2D_jac_petsc.c
# $tar $tarfile $distrobase/examples/ida/petsc/idaHeat2D_jac_petsc.out
$tar $tarfile $distrobase/examples/ida/petsc/idaHeat2D_kry_petsc.c
$tar $tarfile $distrobase/examples/ida/petsc/idaHeat2D_kry_petsc.out

$tar $tarfile $distrobase/examples/ida/parallel/README
$tar $tarfile $distrobase/examples/ida/parallel/CMakeLists.txt
$tar $tarfile $distrobase/examples/ida/parallel/idaFoodWeb_kry_bbd_p.c
$tar $tarfile $distrobase/examples/ida/parallel/idaFoodWeb_kry_bbd_p.out
$tar $tarfile $distrobase/examples/ida/parallel/idaFoodWeb_kry_p.c
$tar $tarfile $distrobase/examples/ida/parallel/idaFoodWeb_kry_p.out
$tar $tarfile $distrobase/examples/ida/parallel/idaHeat2D_kry_bbd_p.c
$tar $tarfile $distrobase/examples/ida/parallel/idaHeat2D_kry_bbd_p.out
$tar $tarfile $distrobase/examples/ida/parallel/idaHeat2D_kry_p.c
$tar $tarfile $distrobase/examples/ida/parallel/idaHeat2D_kry_p.out

$tar $tarfile $distrobase/examples/ida/fcmix_parallel/README
$tar $tarfile $distrobase/examples/ida/fcmix_parallel/CMakeLists.txt
$tar $tarfile $distrobase/examples/ida/fcmix_parallel/fidaHeat2D_kry_bbd_p.f
$tar $tarfile $distrobase/examples/ida/fcmix_parallel/fidaHeat2D_kry_bbd_p.out

$tar $tarfile $distrobase/examples/ida/fcmix_openmp/README
$tar $tarfile $distrobase/examples/ida/fcmix_openmp/CMakeLists.txt
$tar $tarfile $distrobase/examples/ida/fcmix_openmp/fidaRoberts_dns_openmp.f
$tar $tarfile $distrobase/examples/ida/fcmix_openmp/fidaRoberts_dns_openmp.out

$tar $tarfile $distrobase/examples/ida/fcmix_pthreads/README
$tar $tarfile $distrobase/examples/ida/fcmix_pthreads/CMakeLists.txt
$tar $tarfile $distrobase/examples/ida/fcmix_pthreads/fidaRoberts_dns_pthreads.f
$tar $tarfile $distrobase/examples/ida/fcmix_pthreads/fidaRoberts_dns_pthreads.out

# 3/3/2015:LEBanks - Don't add to release yet. Many tests will fail, which can be confusing to users
#echo "   --- Add regression test files to $tarfile"
#$tar $tarfile $distrobase/test/answers/fidaHeat2D_kry_bbd_p
#$tar $tarfile $distrobase/test/answers/fidaRoberts_dns
#$tar $tarfile $distrobase/test/answers/fidaRoberts_dns_openmp
#$tar $tarfile $distrobase/test/answers/fidaRoberts_dns_pthreads
#$tar $tarfile $distrobase/test/answers/idaFoodWeb_bnd
#$tar $tarfile $distrobase/test/answers/idaFoodWeb_kry_bbd_p
#$tar $tarfile $distrobase/test/answers/idaFoodWeb_kry_p
#$tar $tarfile $distrobase/test/answers/idaHeat2D_bnd
#$tar $tarfile $distrobase/test/answers/idaHeat2D_klu
#$tar $tarfile $distrobase/test/answers/idaHeat2D_kry
#$tar $tarfile $distrobase/test/answers/idaHeat2D_kry_bbd_p
#$tar $tarfile $distrobase/test/answers/idaHeat2D_kry_p
#$tar $tarfile $distrobase/test/answers/idaHeat2D_sps
#$tar $tarfile $distrobase/test/answers/idaKrylovDemo_ls
#$tar $tarfile $distrobase/test/answers/idaRoberts_dns
#$tar $tarfile $distrobase/test/answers/idaRoberts_klu
#$tar $tarfile $distrobase/test/answers/idaRoberts_sps
