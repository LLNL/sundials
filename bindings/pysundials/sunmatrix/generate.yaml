# -----------------------------------------------------------------
# Programmer(s): Cody J. Balos @ LLNL
# -----------------------------------------------------------------
# SUNDIALS Copyright Start
# Copyright (c) 2002-2025, Lawrence Livermore National Security
# and Southern Methodist University.
# All rights reserved.
#
# See the top-level LICENSE and NOTICE files for details.
#
# SPDX-License-Identifier: BSD-3-Clause
# SUNDIALS Copyright End
# -----------------------------------------------------------------
# This YAML file is used to instruct the generate.py script on
# how to generate some of the nanobind code needed for the
# core module of pysundials.
# -----------------------------------------------------------------

modules:
  all:
    macro_define_include_by_name__regex:
    - "^SUN_"
    fn_exclude_by_name__regex:
    # Don't interface the implementation specific overrides of the generic routines
    - "^SUNMat.*"
  sunmatrix_band:
    path: sunmatrix/pysundials_sunmatrix_band_generated.hpp
    headers:
    - ../../include/sunmatrix/sunmatrix_band.h
    fn_exclude_by_name__regex:
    # We need to wrap the Data function ourselves to ensure translation to a numpy array
    - "^SUNBandMatrix_Data$"
    # We don't interface these function in Python. Instead users can index the numpy array returned by Data.
    - "^SUNBandMatrix_Cols$"
    - "^SUNBandMatrix_Column$"
  sunmatrix_dense:
      path: sunmatrix/pysundials_sunmatrix_dense_generated.hpp
      headers:
      - ../../include/sunmatrix/sunmatrix_dense.h
      fn_exclude_by_name__regex:
      # We need to wrap the Data function ourselves to ensure translation to a numpy array
      - "^SUNDenseMatrix_Data$"
      # We don't interface these function in Python. Instead users can index the numpy array returned by Data.
      - "^SUNDenseMatrix_Cols$"
      - "^SUNDenseMatrix_Column$"
  sunmatrix_sparse:
      path: sunmatrix/pysundials_sunmatrix_sparse_generated.hpp
      headers:
      - ../../include/sunmatrix/sunmatrix_sparse.h
      fn_exclude_by_name__regex:
      # We need to wrap the Data function ourselves to ensure translation to a numpy array
      - "^SUNSparseMatrix_Data$"
      - "^SUNSparseMatrix_IndexValues$"
      - "^SUNSparseMatrix_IndexPointers$"
      # TODO(CJB): support these
      - "^SUNSparseMatrix_ToCSR$"
      - "^SUNSparseMatrix_ToCSC$"
